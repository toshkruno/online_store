"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71160],{575619:function(n,t,e){e.r(t),e.d(t,{default:function(){return d}});var o=e(756955),r=e(602459);const c={type:"query",name:"logout",query:"query logout{logout{errors{...LogoutErrorFragment}success}}fragment LogoutErrorFragment on IdentityLogoutError{code message}",hash:"14c95ff6999022b0707fb6f45c8563cda3357de88b59c7a4f184efc6b9de0539"},a=n=>{const t=(e=(0,o.Z)(),{queryKey:["logout-query",a={}],queryFn:()=>e.getGqlFetch()(c,a)});var e,a;return(0,r.a)({...t,config:n})};var u=e(387593),s=e(136622),i=e(800818),l=e(268115),g=e(166247),m=e(752406),f=e(442794),d=()=>{var n,t;const{mart:e}=(0,u.Vg)(),o=()=>{(0,i.cM)(["info","ui","signout_error_in_query_result"],{type:"log",message:"signout_error_in_query"})},{refetch:r}=a({enabled:!1,cacheTime:0,refetchOnWindowFocus:!1,refetchOnMount:!1,onSuccess:n=>{var t;const r=n.data;null!=r&&null!=(t=r.logout)&&t.success?(d(),(0,i.cM)(["info","ui","sign_out_b2b_user","force logout b2b user"],{type:"log",message:"sign_out_b2b_user"}),window.location.assign((0,s.p)(e,"/account/login"))):o()},onError:o}),c="true"===(0,l.f)("b2b-org")||!1,d=()=>{(0,f.nJ)("b2b-org",{domain:".walmart.com"})},h="b2b"!==(null==(n=(0,g.B)())||null==(t=n.publicRuntimeConfig)?void 0:t.vid);return(0,m.useEffect)((()=>{h&&c&&r()}),[h,c,r]),null}},387593:function(n,t,e){e.d(t,{Vg:function(){return c}});var o=e(752406);e(330567);const r=(0,o.createContext)({mart:"B2C",bu:"WALMART-US",host:"www.walmart.com"});r.displayName="IdentityNextTenantContext";const c=()=>(0,o.useContext)(r)},136622:function(n,t,e){e.d(t,{p:function(){return a}});var o=e(543806),r=e(358307),c=e(193905);const a=(n,t)=>{const e=["/account/signin","/tu-cuenta/iniciar-sesion","/account/signin/otponly","/account/login","/account/logout","/account/signin/withotpchoice","/account/signin/withpassword","/account/signup","/tu-cuenta/crear-cuenta","/account/verifyitsyou","/account/verifyyouraccount","/account/forgotpassword","/account/resetpassword","/account/sessiontimeout","/account/letsverifylater","/account/tryanotherway","/account/skipresetpassword","/account/sendnewcode","/account/setcompromised","/ouvrir-une-session","/creer-compte","/sign-in","/create-account"],{vidParam:a,modeParam:s,envParam:i,scopeParam:l,redirectUriParam:g,clientIdParam:m,nonceParam:f,stateParam:d,authFrameNonceParam:h,guestCheckoutParam:p,svpParam:y,hhfParam:v,dpsParam:b,showGXOParam:w,triggerPointParam:P,versionParam:_}=(0,o.vl)();let C="";if(l&&g&&m)C=u(t,l,g,m,f,d);else{if("/account/login"===t){var U,q,R;const{signInPathname:n}=(null==(U=(0,r.yu)())||null==(q=U.publicRuntimeConfig)||null==(R=q.identity)?void 0:R.context)||r.Of;t=n}const o=t+"?vid="+(a||("B2C"===n?"oaoh":n.toLowerCase()))+"&tid=0"+(s?"&mode="+s:"")+(w?"&showGXO="+w:"")+(i?"&env="+i:"")+(h?"&authFrameNonce="+h:"")+(y?"&svp="+y:"")+(p?"&sgc="+p:"")+(v?"&hhf="+v:"")+(b?"&dps="+b:"")+(P?"&tp="+P:"")+(_?"&v="+_:""),u=new URLSearchParams(location.search).get("returnUrl"),l=u?"&returnUrl="+encodeURIComponent(u):"&returnUrl="+encodeURIComponent("/");if((0,c.zj)(e).test(location.pathname))return""+o+l+location.hash;const g=""+location.pathname+location.search+location.hash;C=o+"&returnUrl="+encodeURIComponent(g)}return C},u=(n,t,e,o,r,c)=>n+"?scope="+t+"&redirect_uri="+encodeURIComponent(e)+"&client_id="+o+(r?"&nonce="+r:"")+(c?"&state="+c:"")},193905:function(n,t,e){e.d(t,{HN:function(){return o},jc:function(){return c},zj:function(){return r}});const o=/^s*(([^<>()[\]\\/.,;:\s@\\"]+(\.[^<>()[\]\\/.,;:\s@\\"]+)*)|(\\".+\\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))\s*$/,r=n=>new RegExp("^(/en|/fr|)("+n.join("|")+")$","g"),c=n=>"string"==typeof n&&(n=n.replace(/\D/g,"")).length>=10?n=n.substring(n.length-10):""}}]);