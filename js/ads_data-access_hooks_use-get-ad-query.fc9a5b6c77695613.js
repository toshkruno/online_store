"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45527],{301117:function(e,t,a){a.d(t,{kT:function(){return A},Fq:function(){return S},oL:function(){return P}});var n=a(663240),o=a(717590),d=a(756955),s=a(602459),l=a(340299),i=a(866872),p=a(752406),r=a(86336);const u={type:"query",name:"AdV2DisplayDSP",query:"query AdV2DisplayDSP( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataDisplayAdDSPFragment}}}}fragment AdDataDisplayAdDSPFragment on AdData{...on MultiImpDspAd{ads{assets eventTrackers link metaData templateId}}...on DisplayAdDSP{assets eventTrackers link metaData templateId}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"f26454005b0cffc0bba9bf2ce413d7303d0801b6fb5fa395250189a053416cdf"},c={type:"query",name:"AdV2Display",query:"query AdV2Display( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"03eccd7f171135a735b1883be162c0e8e0699da6bf7498859932a35851c83eef"},g={type:"query",name:"AdV2",query:"query AdV2( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataSponsoredProductsFragment __typename...AdDataSponsoredVideoFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}fragment AdDataSponsoredProductsFragment on AdData{...on SponsoredProducts{adUuid adExpInfo moduleInfo products{...ProductFragment}}}fragment ProductFragment on Product{usItemId offerId badges{flags{__typename...on BaseBadge{id text key query type}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought criteria{name value}}}labels{__typename...on BaseBadge{id text key}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought}}tags{__typename...on BaseBadge{id text key}}}priceInfo{priceDisplayCodes{rollback reducedPrice eligibleForAssociateDiscount clearance strikethrough submapType priceDisplayCondition unitOfMeasure pricePerUnitUom}currentPrice{price priceString priceDisplay}wasPrice{price priceString}priceRange{minPrice maxPrice priceString}unitPrice{price priceString}savingsAmount{priceString}comparisonPrice{priceString}}snapEligible showOptions sponsoredProduct{spQs clickBeacon spTags}canonicalUrl numberOfReviews averageRating availabilityStatus imageInfo{thumbnailUrl allImages{id url}}name fulfillmentBadge classType type showAtc p13nData{predictedQuantity flags{PREVIOUSLY_PURCHASED{text}CUSTOMERS_PICK{text}}labels{PREVIOUSLY_PURCHASED{text}CUSTOMERS_PICK{text}}}brand}fragment AdDataSponsoredVideoFragment on AdData{...on SponsoredVideos{adUuid adExpInfo moduleInfo videos{video{vastXml thumbnail spqs}products{...ProductFragment}}}}",hash:"13b1cea6dbba6616061f4391a9f66a2d0139c47ab3e27479adf52fda8894ac73"},m={type:"query",name:"AdV3DisplayDSP",query:"query AdV3DisplayDSP( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataDisplayAdDSPFragment}}}}fragment AdDataDisplayAdDSPFragment on AdData{...on MultiImpDspAd{ads{assets eventTrackers link metaData templateId}}...on DisplayAdDSP{assets eventTrackers link metaData templateId}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"7e3c5bfed9b6e0d9ce054872f33a7e704f3537e55d6ad41782ae0bfb9c7bbf40"},y={type:"query",name:"AdV3Display",query:"query AdV3Display( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"8ee9506cbff2c553c2c8164d5149952c716d599f335c830000ed33501e3a714e"},C={type:"query",name:"AdV3",query:"query AdV3( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status module server adsContext adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataSponsoredProductsFragment __typename...AdDataSponsoredVideoFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}fragment AdDataSponsoredProductsFragment on AdData{...on SponsoredProducts{adUuid adExpInfo moduleInfo products{...ProductFragment}}}fragment ProductFragment on Product{usItemId offerId badges{flags{__typename...on BaseBadge{id text key query type}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought criteria{name value}}}labels{__typename...on BaseBadge{id text key}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought}}tags{__typename...on BaseBadge{id text key}}}priceInfo{priceDisplayCodes{rollback reducedPrice eligibleForAssociateDiscount clearance strikethrough submapType priceDisplayCondition unitOfMeasure pricePerUnitUom}currentPrice{price priceString priceDisplay}wasPrice{price priceString}priceRange{minPrice maxPrice priceString}unitPrice{price priceString}savingsAmount{priceString}comparisonPrice{priceString}}snapEligible showOptions sponsoredProduct{spQs clickBeacon spTags}canonicalUrl numberOfReviews averageRating availabilityStatus imageInfo{thumbnailUrl allImages{id url}}name fulfillmentBadge classType type showAtc p13nData{predictedQuantity flags{PREVIOUSLY_PURCHASED{text}CUSTOMERS_PICK{text}}labels{PREVIOUSLY_PURCHASED{text}CUSTOMERS_PICK{text}}}brand}fragment AdDataSponsoredVideoFragment on AdData{...on SponsoredVideos{adUuid adExpInfo moduleInfo videos{video{vastXml thumbnail spqs}products{...ProductFragment}}}}",hash:"af29b5ade145236467f9590943ef0bb1c8e0f0c89fe442366ba45001d0d0aa87"};var f=a(876540);const D=(e,t)=>{let{variables:a}=t;return{queryKey:["ad-v2",a],queryFn:()=>{var t,n,d;const s=(0,o.v)().displayPPMMode,l=(0,f.gI)(a.moduleType),i=null==(t=a.adRequestComposite)||null==(n=t.clientCapabilities)||null==(d=n.templateIds)?void 0:d.length;return e.getGqlFetch(l?"adsgateway":"cegateway",(e=>(t,n)=>{let o=t;return s&&(o=(0,f.lk)(t,a)),e(o,n)}),{disablePersistedQuery:!0})(i?u:s&&l?c:g,a)}}},A=function(e,t){var a,u,c,g,m,y,C,f,A,x,$,I;let{variables:S}=e;void 0===t&&(t=!0);const P=(0,p.useRef)((0,i.x0)()),v=(0,p.useMemo)((()=>t?Date.now():null),[t]),b=(0,p.useContext)(l.p);(0,p.useEffect)((()=>{const e=P.current;return t&&(0,n.L)({type:"ADS_QUERY_START",payload:{id:e,variables:S,tempo:b}}),()=>{(0,n.L)({type:"ADS_QUERY_CLEAR",payload:{id:e,variables:S}})}}),[t,b,S]);const T=D((0,d.Z)(),{variables:S}),{data:_,isFetching:R,...q}=(0,s.a)({...T,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});(0,p.useEffect)((()=>{if(!R&&t){const e=q.error,t=_,a=P.current,o=Date.now(),d={type:e?"ADS_QUERY_ERR":"ADS_QUERY_SUCCESS",payload:{id:a,start:v,end:o,variables:S,result:t,err:null==e?void 0:e.message,tempo:b}};(0,n.L)(d)}}),[_,t,R,q,v,b,S]);const h=null==_?void 0:_.data;if((0,o.v)().dspProcessingEnable&&null!=(a=S.adRequestComposite)&&null!=(u=a.clientCapabilities)&&null!=(c=u.templateIds)&&c.length&&"DisplayAdDSP"===(null==h||null==(g=h.adV2)||null==(m=g.adContent)||null==(y=m.data)?void 0:y.__typename)&&(Object.keys(h.adV2.adContent.data.assets||{}).includes("501")||(h.adV2.adContent.data={__typename:"DisplayAd",...(0,r.t)(h.adV2.adContent.data,"ARTEMIS")})),(0,o.v)().dspProcessingEnable&&(0,o.v)().dspMultiProcessingEnable&&null!=(C=S.adRequestComposite)&&null!=(f=C.clientCapabilities)&&null!=(A=f.templateIds)&&A.length&&"MultiImpDspAd"===(null==h||null==(x=h.adV2)||null==($=x.adContent)||null==(I=$.data)?void 0:I.__typename)){const e={},t=h.adV2.adContent.data;null!=t&&t.ads&&t.ads.forEach((t=>{var a;null!=t&&null!=(a=t.metaData)&&a.adLocation&&(e[t.metaData.adLocation]=(0,r.t)(t,"ARTEMIS").json||{})})),h.adV2.adContent.data={__typename:"DisplayAd",status:"SUCCESS",json:e}}return{...q,data:h,isFetching:R}},x=(e,t,a)=>{const o=(0,p.useContext)(l.p);(0,p.useEffect)((()=>(e&&(0,n.L)({type:"ADS_QUERY_START",payload:{id:t,variables:a,tempo:o}}),()=>{(0,n.L)({type:"ADS_QUERY_CLEAR",payload:{id:t,variables:a}})})),[e,o,t,a])},$=(e,t,a,o,d,s,i)=>{const r=(0,p.useContext)(l.p);(0,p.useEffect)((()=>{if(!s&&t){const t=d,s=Date.now(),l={type:i?"ADS_QUERY_ERR":"ADS_QUERY_SUCCESS",payload:{id:a,start:o,end:s,variables:e,result:t,err:null==i?void 0:i.message,tempo:r}};(0,n.L)(l)}}),[d,t,s,i,o,r,a,e])},I=(e,t)=>{var a,n,d,s,l,i;if((0,o.v)().dspProcessingEnable&&null!=(a=e.adRequestComposite)&&null!=(n=a.clientCapabilities)&&null!=(d=n.templateIds)&&d.length&&"DisplayAdDSP"===t.__typename&&!Object.keys(t.assets||{}).includes("501"))return{__typename:"DisplayAd",...(0,r.t)(t,"ARTEMIS")};if((0,o.v)().dspProcessingEnable&&(0,o.v)().dspMultiProcessingEnable&&null!=(s=e.adRequestComposite)&&null!=(l=s.clientCapabilities)&&null!=(i=l.templateIds)&&i.length&&"MultiImpDspAd"===t.__typename){const e={};return null!=t&&t.ads&&t.ads.forEach((t=>{var a;null!=t&&null!=(a=t.metaData)&&a.adLocation&&(e[t.metaData.adLocation]=(0,r.t)(t,"ARTEMIS").json||{})})),{__typename:"DisplayAd",status:"SUCCESS",json:e}}return null},S=function(e,t){let{variables:a}=e;void 0===t&&(t=!0);const n=(0,p.useRef)((0,i.x0)()),o=(0,p.useMemo)((()=>t?Date.now():null),[t]);x(t,n.current,a);const l=D((0,d.Z)(),{variables:a}),{data:r,isFetching:u,...c}=(0,s.a)({...l,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});$(a,t,n.current,o,r,u,c.error);const g=null==r?void 0:r.data;var m,y;if(g&&null!=(m=g.adV2)&&null!=(y=m.adContent)&&y.data){const e=I(a,g.adV2.adContent.data);e&&(g.adV2.adContent.data=e)}return{...c,data:g,isFetching:u}},P=function(e,t){let{variables:a}=e;void 0===t&&(t=!0);const n=(0,p.useRef)((0,i.x0)()),l=(0,p.useMemo)((()=>t?Date.now():null),[t]);x(t,n.current,a);const r=((e,t)=>{let{variables:a}=t;return{queryKey:["ad-v3",a],queryFn:()=>{var t,n,d;const s=(0,o.v)().displayPPMMode,l=(0,f.gI)(a.moduleType),i="DynamicAdContainer"===a.moduleType,p=null==(t=a.adRequestComposite)||null==(n=t.clientCapabilities)||null==(d=n.templateIds)?void 0:d.length;return e.getGqlFetch(l?"adsgateway":"cegateway",(e=>(t,n)=>{let o=t;return s&&!i&&(o=(0,f.lk)(t,a)),e(o,n)}),{disablePersistedQuery:!0})(p?m:s&&l?y:C,a)}}})((0,d.Z)(),{variables:a}),{data:u,isFetching:c,...g}=(0,s.a)({...r,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});$(a,t,n.current,l,u,c,g.error);const D=null==u?void 0:u.data;var A,S;if(D&&null!=(A=D.adV3)&&null!=(S=A.adContent)&&S.data){const e=I(a,D.adV3.adContent.data);e&&(D.adV3.adContent.data=e)}return{...g,data:D,isFetching:c}}},876540:function(e,t,a){a.d(t,{H8:function(){return p},gI:function(){return r},lk:function(){return s},w0:function(){return i},yS:function(){return l}});var n=a(717590),o=a(171008);const d=["BrandAmplifierAd","BuyBoxAd","MarqueeDisplayAd","POV2DisplayAd","POV3DisplayAd","POV4DisplayAd","SkylineDisplayAd","SponsoredProductCarousel","DynamicAdContainer"],s=(e,t)=>t.moduleType.endsWith("DisplayAd")?"/swag/graphql"+(-1===e.indexOf("?")?"":e.slice(e.indexOf("?"))):e,l=(e,t,a,s)=>{var l,i,p,r,u,c,g,m,y,C,f,D,A,x,$,I,S,P,v,b,T,_,R,q,h,E,M,V,F,k,O,U,B;const L=(e=>{let t={adsContext:{},pageContext:{},adRequestComposite:{},storeId:"",stateCode:"",zipCode:""};for(const o of Object.values(e))if(n=o.type,d.includes(n)&&o.configs){var a;const e=o.configs,n=null==e?void 0:e.ad,d=null==e||null==(a=e._rawConfigs)?void 0:a.lazy;if(null==d&&n){t={adsContext:n.adsContext||{},pageContext:n.pageContext,adRequestComposite:n.adRequestComposite||{},storeId:n.storeId,stateCode:n.stateCode,zipCode:n.zipCode};break}}var n;return t})(a),w=(null==s?void 0:s.pageId)||"",Q=L.pageContext,N=(0,n.v)().updateAdV2Query2StoreEnable,j=(0,n.v)().updateAdV2QueryUbsEnable,Y=(0,n.v)().updateAdV2QueryHubNSpokeEnable,z=(0,n.v)().defaultLocationStateCode,J=(0,n.v)().defaultLocationZipCode,K=(0,n.v)().defaultStoreId;return{adRequestComposite:L.adRequestComposite,adsContext:L.adsContext,pageContext:Q&&!(0,o.Q)(Q)?Q:null==s||null==(l=s.pageMetadata)?void 0:l.pageContext,pageId:w,pageType:t,platform:e?"MOBILE_WEB":"DESKTOP",tenant:"WM_GLASS",...j&&{customerContext:null==s||null==(i=s.pageMetadata)||null==(p=i.pageContext)?void 0:p.customerContext},locationContext:N?{storeId:L.storeId||(null==s||null==(r=s.pageMetadata)||null==(u=r.location)?void 0:u.storeId)||K,stateCode:L.stateCode||(null==s||null==(c=s.pageMetadata)||null==(g=c.location)?void 0:g.stateOrProvinceCode)||z,zipCode:L.zipCode||(null==s||null==(m=s.pageMetadata)||null==(y=m.location)?void 0:y.postalCode)||J,pickupStore:(null==s||null==(C=s.pageMetadata)||null==(f=C.location)?void 0:f.pickupStore)||"",deliveryStore:(null==s||null==(D=s.pageMetadata)||null==(A=D.location)?void 0:A.deliveryStore)||"",intent:(null==s||null==(x=s.pageMetadata)||null==($=x.location)?void 0:$.intent)||"",...Y&&{accessType:null==s||null==(I=s.pageMetadata)||null==(S=I.location)?void 0:S.accessType,accessPointId:null==s||null==(P=s.pageMetadata)||null==(v=P.location)?void 0:v.accessPointId,spokeNodeId:null==s||null==(b=s.pageMetadata)||null==(T=b.location)?void 0:T.spokeNodeId}}:{storeId:L.storeId||(null==s||null==(_=s.pageMetadata)||null==(R=_.location)?void 0:R.storeId)||K,stateCode:L.stateCode||(null==s||null==(q=s.pageMetadata)||null==(h=q.location)?void 0:h.stateOrProvinceCode)||z,zipCode:L.zipCode||(null==s||null==(E=s.pageMetadata)||null==(M=E.location)?void 0:M.postalCode)||J,...Y&&{accessType:null==s||null==(V=s.pageMetadata)||null==(F=V.location)?void 0:F.accessType,accessPointId:null==s||null==(k=s.pageMetadata)||null==(O=k.location)?void 0:O.accessPointId,spokeNodeId:null==s||null==(U=s.pageMetadata)||null==(B=U.location)?void 0:B.spokeNodeId}}}},i=(e,t)=>{const a=e.type,n=e.configs._rawConfigs.adUuid;return{...t,...n&&{adRequestComposite:{...t.adRequestComposite,adUuid:n}},moduleConfigs:{moduleLocation:e.configs._rawConfigs.moduleLocation,lazy:e.configs._rawConfigs.lazy},moduleType:a}},p=e=>{let{module:t,commonAdsParams:a,ccm:n,lineItemIDs:o,orderIDs:d}=e;const s=i(t,a);if(!n.displayDeduplication)return s;const l={...s.adsContext};return l.dedupeList=n.displayOrderDeduplication?[...d]:[...o,...d],{...s,adsContext:l}},r=e=>e.endsWith("DisplayAd")||"TriplePack"===e||"GridPOVBanners"===e},119046:function(e,t,a){a.d(t,{J:function(){return d},N:function(){return o}});var n=a(752406);const o=(0,n.createContext)((()=>{})),d=()=>(0,n.useContext)(o)}}]);