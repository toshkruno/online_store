"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27059],{870342:function(t,e,s){s.d(e,{c:function(){return o}});var i=s(325137),n=s(803830),r=s(340299),l=s(752406),a=s(330567);const o=t=>{let{children:e,containerRef:s,currentSlide:o,moduleContext:d="",moduleLinkExtras:c={},moduleName:u="",moduleViewExtras:h={},nextButton:p,pageTitle:m,previousButton:v,slideMap:f,style:S,slideSequence:b,element:g="ul",...x}=t;const{moduleProps:C,zone:y}=(0,l.useContext)(r.p),T=(0,l.useRef)({}),E=(0,l.useRef)({}),w=(0,l.useRef)({}),P=(0,l.useRef)(!1),L=(0,l.useRef)({}),N=(0,l.useRef)(),{0:R,1:k}=(0,l.useState)(!1),A=(0,n.wG)();return[h,c]=(0,i.U0)({pageTitle:m,moduleLinkExtras:c,moduleViewExtras:h}),(0,l.useEffect)((()=>{if(s.current&&"IntersectionObserver"in window){const t=new IntersectionObserver((t=>{t.forEach((t=>{k(t.isIntersecting)}))}),{threshold:.05});return t.observe(s.current),()=>t.disconnect()}}),[]),(0,l.useEffect)((()=>{s.current&&void 0!==N.current&&(s.current.scrollLeft=N.current,N.current=void 0),L.current=S}),[s,S]),(0,l.useEffect)((()=>{let t=0;T.current.length||f.forEach(((e,s)=>{T.current["slide-"+s]={firstIndex:String(t),hasFired:!1},t+=e.length})),T.current.totalSlides=t}),[f]),(0,l.useEffect)((()=>{var t;const e=T.current["slide-"+o],s=Object.keys(E.current).length&&{co:(null==(t=E.current[0])?void 0:t.co)||{zn:-1,nm:"error"}},n=b&&b.length?{im:{an:b[o]}}:{},r={pl:{tn:T.current.totalSlides,sn:o+1},...s,...n};if(R&&e&&!e.hasFired){const t=Object.values(E.current).slice(parseInt(T.current["slide-"+o].firstIndex,10),parseInt(T.current.hasOwnProperty("slide-"+(o+1))?T.current["slide-"+(o+1)].firstIndex:"",10)||void 0),e={},s=(0,i.TF)(u);t.forEach((t=>{Object.keys(t).forEach((s=>{if(Array.isArray(t[s])){const i=e.hasOwnProperty(s)?e[s]:[];e[s]=[...i,...t[s]]}}))})),A({context:d,name:s,action:P.current?"overlayView":"moduleView",payload:{...e,...r,...h}}),T.current["slide-"+o].hasFired=!0}}),[o,T,R]),s.current&&L.current&&S&&"x mandatory"===S.scrollSnapType&&L.current.scrollSnapType!==S.scrollSnapType&&(N.current=s.current.scrollLeft),(0,a.jsxs)(i.fC.Provider,{value:{doAddToPayload:t=>{var e,s;const n=(null==(e=t.moduleElement.current)||null==(s=e.closest("[data-slide]"))?void 0:s.getAttribute("data-slide"))||"0";E.current[n]=E.current[n]||{};const{type:r,name:l,moduleId:a}=C||{};return y&&(E.current[n].co={zn:y,...C&&{ty:r,id:a,nm:l}}),(0,i.nt)({...t,moduleContext:d,moduleLinkExtras:c,moduleViewStore:E.current[n],onLinkStore:w.current,sendBeacon:A})},setIsOverlay:()=>P.current=!0},children:[v,(0,a.jsx)(g,{ref:s,style:S,...x,children:e}),p]})}},983187:function(t,e,s){s.d(e,{Z:function(){return N}});var i={};s.r(i),s.d(i,{buttonLabel:function(){return p},carouselCount:function(){return b},controlsLabel:function(){return h},nextSlideButton:function(){return f},nextSlideScroll:function(){return v},prevSlideButton:function(){return S},prevSlideScroll:function(){return m}});var n=s(692962),r=s(121705),l=s(827586),a=s(894358),o=s.n(a),d=s(445895),c=s(752406),u=s(40656);const h=()=>"carousel controls",p=t=>u.Ys(t.isPaused,{true:"play",other:"pause"}),m=()=>"Previous carousel slide",v=()=>"Next carousel slide",f=t=>"Next slide "+u.Ys(t.moduleName,{undefined:"of",other:"for "+t.moduleName})+" list",S=t=>"Previous slide "+u.Ys(t.moduleName,{undefined:"of",other:"for "+t.moduleName})+" list",b=t=>"Current carousel slide "+t.count+" of "+t.totalCount;var g=s(800624),x=s(955444),C=s(330567);const y=t=>t?{borderColor:"transparent transparent transparent black",borderWidth:"5px 0px 5px 8px",padding:"0",borderStyle:"solid"}:{height:"9px",borderStyle:"double",borderColor:"transparent transparent transparent black",borderWidth:"0 0 0 7px"},T=t=>{let{carouselRef:e,count:s,activeIndex:r,handleSlideClick:l,isPaused:a,shouldAutoRotate:d,handleRotationClick:u,onScrollEnd:h,onScrollStart:p,povScrollbar:m,scrollbarContainerClassName:v,carouselControllerAriaHidden:f}=t;const{0:S,1:b}=(0,c.useState)(0),{0:T,1:E}=(0,c.useState)(0),{0:w,1:P}=(0,c.useState)(0),{0:L,1:N}=(0,c.useState)(void 0),R=(0,c.useRef)(null);(0,c.useEffect)((()=>{const t=()=>{R.current&&P(R.current.clientWidth),e.current&&E(e.current.clientWidth/e.current.scrollWidth)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)}),[]),(0,c.useEffect)((()=>{const t=()=>{e.current&&b(e.current.scrollLeft/e.current.scrollWidth)};return e.current&&(e.current.removeEventListener("scroll",t),e.current.addEventListener("scroll",t,{passive:!0})),()=>{e.current&&e.current.removeEventListener("scroll",t)}}),[e.current,R.current]),(0,c.useEffect)((()=>{const t=t=>{if(e.current&&void 0!==L){const s=e.current.scrollWidth*L.scrubberLeftPercent;e.current.scrollLeft=s-(L.clientX-t.clientX)*(e.current.scrollWidth/w)}},s=()=>{N(void 0),h()};return window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",s),void 0!==L&&(window.addEventListener("pointermove",t),window.addEventListener("pointerup",s)),()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",s)}}),[e.current,L]);const{isMobile:k}=(0,x.vP)(),A=T*w;let I=S*w;A<40&&(I-=(40-A)*(I/(w-A)||0)),I-=2;const M=Math.max(A,40)+4,j={className:"absolute b--none bg-transparent h-100 top-0"};return(0,C.jsxs)("div",{role:"navigation","aria-hidden":f,"aria-label":(0,n.m)(i,"controlsLabel"),"data-testid":"carousel-controller",className:o()("flex items-center",m?"absolute bg-white-80 bottom-1 br-pill":"dn-l"),style:m?{marginLeft:"50%",transform:"translateX(-50%)",width:k?184:343}:void 0,children:[m&&d&&(0,C.jsx)("button",{className:"bg-transparent flex bn items-center mh2 pa0",onClick:u,style:{height:24,width:24},"aria-label":(0,n.m)(i,"buttonLabel",{isPaused:a}),children:(0,C.jsx)("span",{className:"center",style:y(a)})}),(0,C.jsxs)("div",{className:o()("flex-auto flex flex-column justify-center pr3 relative",m&&!d&&"pa3",v),"data-testid":"scrollbar-container",style:{height:m?24:44},children:[(0,C.jsxs)("div",{className:"flex flex-column justify-center w-100 relative",ref:R,children:[(0,C.jsx)("div",{className:"absolute bg-near-white br-pill w-100",style:{height:2}}),(0,C.jsxs)("div",{className:"absolute b--none bg-transparent h-100 pa0 top-0 z-1",onPointerDown:t=>{p(),N({clientX:t.clientX,scrubberLeftPercent:S})},"data-testid":"carousel-scrubber",style:{left:I,touchAction:"none",width:M,top:-4},children:[(0,C.jsx)("span",{className:o()("db b--solid bg-gray br-pill bw1",L?"b--gray":"b--transparent"),style:{backgroundClip:"padding-box",height:4,boxSizing:"content-box"}}),(0,C.jsx)(g.VisuallyHidden,{children:(0,n.m)(i,"carouselCount",{count:r+1,totalCount:s})})]})]}),(0,C.jsx)("button",{...j,className:o()(j.className,"left-0 z-9"),"data-testid":"carousel-controller-next",onClick:()=>l(Math.max(r-1,0)),style:{width:Math.max(40,I+16)},"aria-label":(0,n.m)(i,"prevSlideScroll")}),(0,C.jsx)("button",{...j,className:o()(j.className,"right-0 z-9"),"data-testid":"carousel-controller-prev",onClick:()=>l(Math.min(r+1,s-1)),style:{width:Math.max(40,w-I-M+16)},"aria-label":(0,n.m)(i,"nextSlideScroll")})]})]})};var E=s(870342);const w=t=>{const e=t.getElementsByTagName("a");return e.length?e:t.getElementsByTagName("button")},P=(0,c.memo)((t=>{let{children:e,classNameTile:s,inputRefs:i,disableTransition:n,transitioning:r}=t;return(0,C.jsx)(C.Fragment,{children:c.Children.map(e,((t,e)=>(0,C.jsx)("li",{className:o()("flex flex-column items-center",{transitioning:r&&!n},s),"data-slide":e,ref:t=>{i[e]=t},children:t},"carousel-tile-"+e)))})}));class L extends c.Component{constructor(t){if(super(t),this.hasAutoAdvanced=void 0,this.rotationInterval=void 0,this.rotateTimeout=void 0,this.inputRefs=void 0,this.carouselContainer=void 0,this.withScrubber=void 0,this.scrollCallback=void 0,this.mountTime=void 0,this.rotationTimeLapse=void 0,this.skipAnimation=void 0,!1===t.povScrollbar&&t.shouldAutoRotate)throw new Error("Error: `HorizontalScrollbar` can only have `shouldAutoRotate=true` when `povScrollbar` is not false.");this.state={currentSlide:0,isFocusPaused:!1,isPaused:!1,scrolling:!1,slideCount:0,slideMap:[],maxHeight:"fix-content",transitioning:!1,touched:!1,isAutoRotateReady:!1},this.carouselContainer=c.createRef(),this.withScrubber=c.createRef(),this.withScrubber.current=!1,this.inputRefs=[],this.hasAutoAdvanced=!1,this.rotationInterval=0,this.rotateTimeout=null,this.scrollCallback=(0,d.debounce)((()=>{this.calculateIndex()}),100),this.mountTime=0,this.rotationTimeLapse=4e3,this.skipAnimation=!1,this.calculatePageCount=this.calculatePageCount.bind(this),this.handlePause=this.handlePause.bind(this),this.handlePlay=this.handlePlay.bind(this),this.handleFocusIn=this.handleFocusIn.bind(this),this.handleFocusOut=this.handleFocusOut.bind(this),this.handleScrollEnd=this.handleScrollEnd.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.setTargetSlide=this.setTargetSlide.bind(this),this.nextSlide=this.nextSlide.bind(this),this.getSlideHeight=this.getSlideHeight.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchCancel=this.handleTouchCancel.bind(this),this.stopTransition=this.stopTransition.bind(this)}componentDidMount(){var t,e,s,i;this.mountTime=Date.now(),null==(t=this.carouselContainer.current)||t.addEventListener("scroll",(()=>{this.setState({transitioning:!0}),this.scrollCallback()}),{passive:!0}),null==(e=this.carouselContainer.current)||e.addEventListener("touchstart",this.handleTouchStart,!1),null==(s=this.carouselContainer.current)||s.addEventListener("touchend",this.handleTouchEnd,!1),null==(i=this.carouselContainer.current)||i.addEventListener("touchcancel",this.handleTouchCancel,!1),!this.props.shouldAutoRotate||(this.props.delayHeroPovPlay||this.props.delayFirstHeroPovTime)&&void 0!==this.props.adsReady||this.handlePlay(),this.calculatePageCount(),window.addEventListener("resize",this.calculatePageCount)}componentDidUpdate(t,e){const{currentSlide:s,maxHeight:i,isAutoRotateReady:n,isPaused:r,isFocusPaused:l}=this.state,{children:a,shouldEnableDynamicHeight:o,scrollToIndex:d,shouldAutoRotate:c}=this.props;if((this.props.delayFirstHeroPovTime||this.props.delayHeroPovPlay)&&t.adsReady!==this.props.adsReady&&this.props.adsReady){const t=Date.now()-this.mountTime,e=this.props.delayFirstHeroPovTime?8e3:this.rotationTimeLapse,s=Math.max(e-t,0);this.skipAnimation=t>e,this.rotateTimeout=setTimeout((()=>{this.setState({isAutoRotateReady:!0}),this.rotateTimeout&&clearTimeout(this.rotateTimeout)}),s)}if(!c||this.rotationInterval||!n||r||l||this.handlePlay(!0,this.skipAnimation),s!==e.currentSlide){const{onSlideChange:t}=this.props;t&&t(s,!!this.withScrubber.current),this.stopTransition()}if((this.shouldRecalculatePageCount(a,t.children)||t.customCarouselWidth!==this.props.customCarouselWidth)&&this.calculatePageCount(),this.shouldUpdateHeight(s,i,o),void 0!==d&&t.scrollToIndex!==d){const t=Math.floor(d/this.state.slideMap[0].length);this.setTargetSlide(Math.min(t,this.state.slideMap.length-1))}}componentWillUnmount(){var t;window.removeEventListener("resize",this.calculatePageCount),null==(t=this.carouselContainer.current)||t.removeEventListener("scroll",this.scrollCallback),this.scrollCallback.clear(),this.rotationInterval&&clearInterval(this.rotationInterval),this.rotateTimeout&&clearTimeout(this.rotateTimeout)}shouldUpdateHeight(t,e,s){if(s){const s=this.getSlideHeight(t);s!==e&&0!==s&&this.updateHeight(s)}}updateHeight(t){this.setState({maxHeight:t})}calculatePageCount(){const{clientWidth:t=0}=this.carouselContainer.current||{},e=[[]];let s=0,i=t+1;const n=this.props.snapAlignTile||"start";let r=0;this.inputRefs.forEach(((l,a)=>{if(l){const{width:o,x:d}=l.getBoundingClientRect();0===a&&(r=d);const c=d-r;let u="";0===a&&(u=n),c+o>i?(e.push([l]),s++,i=c+t,u=n):e[s].push(l),l.style.setProperty("scroll-snap-align",u)}})),this.setState({slideCount:e.length,slideMap:e})}handleTouchStart(){this.setState({transitioning:!0,touched:!0})}handleTouchEnd(){this.setState({touched:!1})}handleTouchCancel(){this.setState({touched:!1})}stopTransition(){this.setState((t=>{let{touched:e}=t;return{transitioning:e}}))}getSlideHeight(t){let e=this.inputRefs[t],s=0;for(;1===e.children.length;){e=e.children[0];const t=e.getBoundingClientRect().height||0;t>s&&(s=t)}return s?s+20:0}shouldRecalculatePageCount(t,e){var s,i;return c.Children.count(t)!==c.Children.count(e)||(null==(s=c.Children.map(e,(t=>null==t?void 0:t.key)))?void 0:s.join())!==(null==(i=c.Children.map(t,(t=>null==t?void 0:t.key)))?void 0:i.join())}getIndex(t,e){if(this.carouselContainer.current){const{scrollLeft:i,scrollWidth:n}=this.carouselContainer.current;let r=t-1,l=0;for(let a=0;a<t;a++){var s;const o=null==(s=e[a][0])?void 0:s.offsetLeft;if(Math.floor(i)<=o){const{shouldEnablePartialScrollSnap:e=!0}=this.props,s=o-l;r=e&&a>0&&a!==t-1&&s>0&&i-s/2<=l&&i+s+2<n?a-1:a;break}l=o}return r}return 0}calculateIndex(){this.hasAutoAdvanced?this.hasAutoAdvanced=!1:this.handlePause(),this.setState((t=>{let{slideCount:e,slideMap:s}=t;return{currentSlide:this.getIndex(e,s)}}))}handlePause(){this.rotationInterval&&clearInterval(this.rotationInterval),this.setState({isPaused:!0})}handlePlay(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);const s=t=>{this.state.isPaused||this.state.isFocusPaused||this.nextSlide(!0,t)};t&&s(e),this.rotationInterval=setInterval(s,this.rotationTimeLapse),this.setState({isPaused:!1})}handleFocusIn(){this.setState({isFocusPaused:!0})}handleFocusOut(){this.setState({isFocusPaused:!1})}handleScrollEnd(){this.withScrubber.current=!1;const t=this.getIndex(this.state.slideCount,this.state.slideMap);this.setTargetSlide(t,(()=>this.setState({scrolling:!1})))}handleScrollStart(){this.withScrubber.current=!0,this.setState({scrolling:!0})}setTargetSlide(t,e,s,i){if(void 0===i&&(i=!1),this.carouselContainer.current){var n;const r=null==(n=this.state.slideMap[t][0])?void 0:n.offsetLeft;if(e){const i=parseInt(r.toFixed(),10),n=()=>{var r;const l=(this.state.slideMap[0].length-this.state.slideMap[t].length)*(this.state.slideMap[t][0].offsetWidth+16)+48,a=Boolean(void 0!==(null==(r=this.carouselContainer.current)?void 0:r.scrollLeft)&&(s?this.carouselContainer.current.scrollLeft<=i:this.carouselContainer.current.scrollLeft>=i-l));this.carouselContainer.current&&a&&(this.carouselContainer.current.removeEventListener("scroll",n),e())};this.carouselContainer.current.addEventListener("scroll",n),n()}this.carouselContainer.current.scrollTo&&this.setState({transitioning:!0},(()=>{var t;return null==(t=this.carouselContainer.current)?void 0:t.scrollTo({left:r,behavior:i?"auto":"smooth"})}))}}nextSlide(t,e){if(this.carouselContainer.current){let s=this.state.currentSlide+1;this.state.slideMap[s]||(s=0),this.hasAutoAdvanced=t,this.setTargetSlide(s,void 0,void 0,e)}}render(){const{chevronPadding:t=12,children:e,className:s,classNameTile:a="",shouldSnap:d=!0,shouldAutoRotate:c=!1,shouldSuppressPagination:u,shouldEnableDynamicWidth:h,moduleContext:p,moduleName:m,moduleViewExtras:v,moduleLinkExtras:f,navButtonStyle:S,nextLinkExtras:b,previousLinkExtras:g,isScrollArrowHidden:x=!1,onSlideChange:y,disableTransition:L=!0,povScrollbar:N=!1,scrollbarContainerClassName:R,showSmallNavButtons:k=!1,chevronSize:A="medium",shouldEnableDynamicHeight:I=!1,shouldEnablePartialScrollSnap:M=!0,carouselControllerAriaHidden:j=!1,anchorNavButtonTopOffset:H,slideSequence:F,scrollToIndex:z,delayHeroPovPlay:B,delayFirstHeroPovTime:O,adsReady:W,unOrderedListStyle:D,snapAlignTile:V,customCarouselWidth:U,...X}=this.props,_=!!c||N,{inputRefs:q}=this;return(0,C.jsxs)("div",{className:"flex flex-column justify-center relative","data-testid":"horizontal-scroller-"+m,children:[(0,C.jsx)(E.c,{onTransitionEnd:()=>{this.shouldUpdateHeight(this.state.currentSlide,this.state.maxHeight,I)},moduleViewExtras:v,moduleLinkExtras:f,moduleContext:p,moduleName:m,previousButton:!x&&!_&&(0,C.jsx)(l.ZP,{"aria-label":(0,n.m)(i,"prevSlideButton",{moduleName:m}),className:o()("absolute dn z-5 bg-white br-100 pa0 pointer",{"db-l":0!==this.state.currentSlide,"hidden-child":!u,"br-100 nav-control left-1":!k,"left-0":k,db:0!==this.state.currentSlide&&u}),"data-testid":"horizontal-scroller-previous",onLinkExtras:g,onLinkName:"horizontalScrollerPrevious",role:"button",style:{top:H||void 0,...S},onClick:()=>this.setTargetSlide(this.state.currentSlide-1,(()=>{var t,e;const s=this.state.currentSlide-1,i=this.state.slideMap[this.state.currentSlide].length===this.state.slideMap[s].length?this.state.slideMap[s].length-1:this.state.slideMap[this.state.currentSlide].length-1,n=this.state.slideMap[s][i];null==(t=w(n))||null==(e=t[0])||e.focus()}),!0),children:(0,C.jsx)(r.J,{name:"ChevronLeft",className:o()({pa2:k}),style:k?void 0:{padding:t},size:A})}),nextButton:!x&&!_&&(0,C.jsx)(l.ZP,{"aria-label":(0,n.m)(i,"nextSlideButton",{moduleName:m}),className:o()("absolute dn z-5 bg-white br-100 pa0 pointer",{"db-l":this.state.currentSlide+1!==this.state.slideCount,"br-100 nav-control right-1":!k,"right-0":k,db:this.state.currentSlide+1!==this.state.slideCount&&u}),"data-testid":"horizontal-scroller-next",onLinkExtras:b,onLinkName:"horizontalScrollerNext",role:"button",style:{top:H||void 0,...S},onClick:()=>this.setTargetSlide(this.state.currentSlide+1,(()=>{const t=this.state.currentSlide+1;if(this.state.slideMap[t].length>0){const e=this.state.slideMap[t][0];setTimeout((()=>{var t,s;null==(t=w(e))||null==(s=t[0])||s.focus()}),100)}})),children:(0,C.jsx)(r.J,{name:"ChevronRight",className:o()({pa2:k}),style:k?void 0:{padding:t},size:A})}),currentSlide:this.state.currentSlide,slideMap:this.state.slideMap,className:o()("list ma0 pl0 overflow-x-scroll hidesb hidesb-wk relative overflow-y-hidden "+s,{"carousel-height-transition":I}),"data-testid":"carousel-container",containerRef:this.carouselContainer,style:{display:h?"flex":"grid",gridAutoFlow:"column",scrollSnapType:d&&!this.state.scrolling?"x mandatory":"",maxHeight:I?this.state.maxHeight:"fit-content",...D},onFocus:this.handleFocusIn,onBlur:this.handleFocusOut,onMouseOver:this.handleFocusIn,onMouseOut:this.handleFocusOut,slideSequence:F,...X,children:(0,C.jsx)(P,{classNameTile:a,inputRefs:q,shouldAutoRotate:c,disableTransition:L,transitioning:this.state.transitioning,children:e})}),(_||c)&&(0,C.jsx)("div",{className:o()({dn:u}),children:this.state.slideCount>1&&(0,C.jsx)(T,{carouselRef:this.carouselContainer,count:this.state.slideCount,activeIndex:this.state.currentSlide,handleSlideClick:t=>{this.setTargetSlide(t)},handleRotationClick:this.state.isPaused?this.handlePlay:this.handlePause,isPaused:this.state.isPaused,onScrollEnd:this.handleScrollEnd,onScrollStart:this.handleScrollStart,povScrollbar:_,scrollbarContainerClassName:R,shouldAutoRotate:c,carouselControllerAriaHidden:j})})]})}}var N=L}}]);